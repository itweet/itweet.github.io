<!DOCTYPE html>
<html lang>
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="Phoenix-hbase">




  <meta name="keywords" content="hbase,">





  <link rel="alternate" href="/atom.xml" title="WHOAMI">




  <link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/itweet/itweet.github.io/master/favicon.ico?v=1.1">



<link rel="canonical" href="http://itweet.github.io/2015/07/16/Phoenix-hbase/">


<meta name="description" content="phoenix，由saleforce.com开源的一个项目，后又捐给了Apache。它相当于一个Java中间件，帮助开发者，像使用jdbc访问关系型数据库一样，访问NoSql数据库HBase。   phoenix，操作的表及数据，存储在hbase上。phoenix只是需要和Hbase进行表关联起来。然后再用工具进行一些读或写操作。   其实，可以把Phoenix只看成一种代替HBase的语法的">
<meta name="keywords" content="hbase">
<meta property="og:type" content="article">
<meta property="og:title" content="Phoenix-hbase">
<meta property="og:url" content="http://itweet.github.io/2015/07/16/Phoenix-hbase/index.html">
<meta property="og:site_name" content="WHOAMI">
<meta property="og:description" content="phoenix，由saleforce.com开源的一个项目，后又捐给了Apache。它相当于一个Java中间件，帮助开发者，像使用jdbc访问关系型数据库一样，访问NoSql数据库HBase。   phoenix，操作的表及数据，存储在hbase上。phoenix只是需要和Hbase进行表关联起来。然后再用工具进行一些读或写操作。   其实，可以把Phoenix只看成一种代替HBase的语法的">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://phoenix.apache.org/images/phoenix-logo-small.png">
<meta property="og:image" content="http://phoenix.apache.org/images/sqlline.png">
<meta property="og:updated_time" content="2019-02-27T17:37:47.602Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Phoenix-hbase">
<meta name="twitter:description" content="phoenix，由saleforce.com开源的一个项目，后又捐给了Apache。它相当于一个Java中间件，帮助开发者，像使用jdbc访问关系型数据库一样，访问NoSql数据库HBase。   phoenix，操作的表及数据，存储在hbase上。phoenix只是需要和Hbase进行表关联起来。然后再用工具进行一些读或写操作。   其实，可以把Phoenix只看成一种代替HBase的语法的">
<meta name="twitter:image" content="http://phoenix.apache.org/images/phoenix-logo-small.png">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> Phoenix-hbase - WHOAMI </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">WHOAMI</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/atom.xml">
                            
                            
                                RSS
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Phoenix-hbase
        
      </h1>

      <time class="post-time">
          7月 16 2015
      </time>
    </header>



    
            <div class="post-content">
            <p><img src="http://phoenix.apache.org/images/phoenix-logo-small.png" alt></p>
<blockquote>
<p>phoenix，由saleforce.com开源的一个项目，后又捐给了Apache。它相当于一个Java中间件，帮助开发者，像使用jdbc访问关系型数据库一样，访问NoSql数据库HBase。</p>
</blockquote>
<blockquote>
<p>phoenix，操作的表及数据，存储在hbase上。phoenix只是需要和Hbase进行表关联起来。然后再用工具进行一些读或写操作。</p>
</blockquote>
<blockquote>
<p>其实，可以把Phoenix只看成一种代替HBase的语法的一个工具。虽然可以用java可以用jdbc来连接phoenix，然后操作HBase，但是在生产环境中，不可以用在OLTP中。在线事务处理的环境中，需要低延迟，而Phoenix在查询HBase时，虽然做了一些优化，但延迟还是不小。所以依然是用在OLAT中，再将结果返回存储下来。</p>
</blockquote>
<blockquote>
<p>Phoenix官网上，对Phoenix讲解已经很好了。可以看官网，更正式一些。<a href="http://phoenix.apache.org/" target="_blank" rel="noopener">http://phoenix.apache.org/</a></p>
</blockquote>
<p><img src="http://phoenix.apache.org/images/sqlline.png" alt></p>
<h1 id="一、基本环境准备"><a href="#一、基本环境准备" class="headerlink" title="一、基本环境准备"></a>一、基本环境准备</h1><h2 id="1、安装好hbase，hbase正常使用！"><a href="#1、安装好hbase，hbase正常使用！" class="headerlink" title="1、安装好hbase，hbase正常使用！"></a>1、安装好hbase，hbase正常使用！</h2><blockquote>
<p>hbase安装参考我的另外一篇博文：<a href="https://www.itweet.cn/2015/07/15/Hbase-Distributed-install/" target="_blank" rel="noopener">https://www.itweet.cn/2015/07/15/Hbase-Distributed-install/</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server1 ~]$ hbase shell</span><br><span class="line">15/03/15 15:58:57 INFO Configuration.deprecation: hadoop.native.lib is  deprecated. Instead, use io.native.lib.available</span><br><span class="line">HBase Shell; enter &apos;help&lt;RETURN&gt;&apos; for list of supported commands.</span><br><span class="line">Type &quot;exit&lt;RETURN&gt;&quot; to leave the HBase Shell</span><br><span class="line">Version 0.98.6-cdh5.2.0, rUnknown, Sat Oct 11 15:15:15 PDT 2014</span><br><span class="line"></span><br><span class="line">hbase(main):001:0&gt; list</span><br><span class="line">TABLE                                                                                                                                 </span><br><span class="line">aaa                                                                                                                                    </span><br><span class="line">test                                                                                                                                  </span><br><span class="line">2 row(s) in 3.2560 seconds</span><br><span class="line"></span><br><span class="line">=&gt; [&quot;aaa&quot;, &quot;test&quot;]</span><br><span class="line">hbase(main):002:0&gt; create &apos;test1&apos;, &apos;lf&apos;, &apos;sf&apos;</span><br><span class="line">0 row(s) in 1.0330 seconds</span><br><span class="line"></span><br><span class="line">=&gt; Hbase::Table - test1</span><br><span class="line">hbase(main):003:0&gt; put &apos;test1&apos;, &apos;user1|ts1&apos;, &apos;sf:c1&apos;, &apos;sku&apos;</span><br><span class="line">0 row(s) in 0.2010 seconds</span><br><span class="line"></span><br><span class="line">hbase(main):004:0&gt; put &apos;test1&apos;, &apos;user1|ts2&apos;, &apos;sf:c1&apos;, &apos;sku188&apos;</span><br><span class="line">0 row(s) in 0.0320 seconds</span><br><span class="line"></span><br><span class="line">hbase(main):005:0&gt; put &apos;test1&apos;, &apos;user1|ts3&apos;, &apos;sf:s1&apos;, &apos;sku123&apos;</span><br><span class="line">0 row(s) in 0.0290 seconds</span><br><span class="line"></span><br><span class="line">hbase(main):006:0&gt; scan &apos;test1&apos;</span><br><span class="line">ROW                                COLUMN+CELL                                                                                         </span><br><span class="line"> user1|ts1                         column=sf:c1, timestamp=1426406452681,   value=sku                                                   </span><br><span class="line"> user1|ts2                         column=sf:c1, timestamp=1426406477190,   value=sku188                                                </span><br><span class="line"> user1|ts3                         column=sf:s1, timestamp=1426406482547,   value=sku123                                                </span><br><span class="line">3 row(s) in 0.0810 seconds</span><br><span class="line">hbase(main):006:0&gt;!q</span><br></pre></td></tr></table></figure>
<h2 id="2、hbase-master所在server1上"><a href="#2、hbase-master所在server1上" class="headerlink" title="2、hbase master所在server1上"></a>2、hbase master所在server1上</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server1 ~]$ hbase version</span><br><span class="line">15/03/15 16:03:08 INFO util.VersionInfo: HBase 0.98.6-cdh5.2.0</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">[hsu@server1 ~]$ which hbase</span><br><span class="line">/usr/bin/hbase</span><br></pre></td></tr></table></figure>
<h2 id="3、当前系统软件信息"><a href="#3、当前系统软件信息" class="headerlink" title="3、当前系统软件信息"></a>3、当前系统软件信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server1 ~]$ java -version </span><br><span class="line">java version &quot;1.7.0_09-icedtea&quot;</span><br><span class="line">OpenJDK Runtime Environment (rhel-2.3.4.1.el6_3-x86_64)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 23.2-b09, mixed mode)</span><br><span class="line"></span><br><span class="line">[hsu@server1 ~]$ cat /etc/redhat-release </span><br><span class="line">Red Hat Enterprise Linux Server release 6.4 (Santiago)</span><br><span class="line">[hsu@server1 ~]$ uname -a</span><br><span class="line">Linux server1 2.6.32-358.el6.x86_64 #1 SMP Tue Jan 29 11:47:41 EST 2013 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></table></figure>
<h1 id="二、安装phoenix"><a href="#二、安装phoenix" class="headerlink" title="二、安装phoenix"></a>二、安装phoenix</h1><h2 id="1、phoenix与hbase版本对应关系"><a href="#1、phoenix与hbase版本对应关系" class="headerlink" title="1、phoenix与hbase版本对应关系"></a>1、phoenix与hbase版本对应关系</h2><pre><code>http://phoenix.apache.org/download.html
phoenix与HBase版本对应关系
Phoenix 2.x - HBase 0.94.x
Phoenix 3.x - HBase 0.94.x
Phoenix 4.x - HBase 0.98.1+
</code></pre><h2 id="2、hbase的配置文件"><a href="#2、hbase的配置文件" class="headerlink" title="2、hbase的配置文件"></a>2、hbase的配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"># cat hbase-site.xml </span><br><span class="line">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="line">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.rootdir&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;hdfs://server1:9000/user/hbase&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.cluster.distributed&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;server1,server2,server3&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.master&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;server1:60010&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">        &lt;property&gt;  </span><br><span class="line">         &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;  </span><br><span class="line">         &lt;value&gt;2181&lt;/value&gt;  </span><br><span class="line">         &lt;description&gt;Property fromZooKeeper&apos;s config zoo.cfg.  </span><br><span class="line">         The port at which the clients willconnect.  </span><br><span class="line">         &lt;/description&gt;  </span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">         &lt;name&gt;dfs.support.append&lt;/name&gt;</span><br><span class="line">         &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;  </span><br><span class="line">        &lt;property&gt;</span><br><span class="line">         &lt;name&gt;hbase.tmp.dir&lt;/name&gt;</span><br><span class="line">         &lt;value&gt;/tmp/hbase&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">         &lt;name&gt;hbase.regionserver.hlog.replication&lt;/name&gt;</span><br><span class="line">         &lt;value&gt;2&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<h2 id="3、hbase安装目录"><a href="#3、hbase安装目录" class="headerlink" title="3、hbase安装目录"></a>3、hbase安装目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server2 lib]$ pwd</span><br><span class="line">/opt/cloudera/parcels/CDH/lib/hbase/lib</span><br></pre></td></tr></table></figure>
<h2 id="4、安装phoenix"><a href="#4、安装phoenix" class="headerlink" title="4、安装phoenix"></a>4、安装phoenix</h2><blockquote>
<p>注意：phoenix需要安装在hbase master节点上</p>
</blockquote>
<p><a href="http://phoenix.apache.org/installation.html#" target="_blank" rel="noopener">http://phoenix.apache.org/installation.html#</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[hsu@svr99 ~]$ ls -l software/phoenix-4.3.0-bin.tar.gz     </span><br><span class="line">-rw-rw-r-- 1 hsu hsu 71958249 Mar 15 15:41 software/phoenix-4.3.0-bin.tar.gz</span><br><span class="line">[hsu@svr99 ~]$ scp software/phoenix-4.3.0-bin.tar.gz server1:~</span><br><span class="line">[hsu@server1 ~]$ ls -l phoenix-4.3.0-bin.tar.gz </span><br><span class="line">-rw-rw-r-- 1 hsu hsu 71958249 Mar 15 16:31 phoenix-4.3.0-bin.tar.gz</span><br></pre></td></tr></table></figure></p>
<h3 id="4-1-Download"><a href="#4-1-Download" class="headerlink" title="4.1 Download"></a>4.1 Download</h3><blockquote>
<p>Download and expand the latest phoenix-[version]-bin.tar.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server1 ~]$ tar -zxf phoenix-4.3.0-bin.tar.gz</span><br><span class="line">[hsu@server1 ~]$ ln -s phoenix-4.3.0-bin phoenix</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="4-2-Add-the-phoenix-jar"><a href="#4-2-Add-the-phoenix-jar" class="headerlink" title="4.2 Add the phoenix jar"></a>4.2 Add the phoenix jar</h3><blockquote>
<p>Add the phoenix-[version]-server.jar to the classpath of all HBase region</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server1 ~]$ cd phoenix</span><br><span class="line">[hsu@server1 phoenix]$ sudo scp phoenix-4.3.0-server.jar </span><br><span class="line">server2:/opt/cloudera/parcels/CDH/lib/hbase/lib/    </span><br><span class="line"></span><br><span class="line">[hsu@server1 phoenix]$ sudo scp phoenix-4.3.0-server.jar 、</span><br><span class="line">server3:/opt/cloudera/parcels/CDH/lib/hbase/lib/</span><br><span class="line"></span><br><span class="line">[hsu@server1 phoenix]$ sudo scp phoenix-4.3.0-server.jar </span><br><span class="line">server4:/opt/cloudera/parcels/CDH/lib/hbase/lib/</span><br><span class="line"></span><br><span class="line">[hsu@server1 phoenix]$ sudo cp  phoenix-4.3.0-server.jar</span><br><span class="line"> /opt/cloudera/parcels/CDH/lib/hbase/lib/</span><br><span class="line"></span><br><span class="line">[hsu@server2 ~]$ ls /opt/cloudera/parcels/CDH/lib/hbase/lib/phoenix-4.3.0-server.jar </span><br><span class="line">/opt/cloudera/parcels/CDH/lib/hbase/lib/phoenix-4.3.0-server.jar</span><br></pre></td></tr></table></figure>
<h3 id="4-3-copy-conf-to-phoenix"><a href="#4-3-copy-conf-to-phoenix" class="headerlink" title="4.3 copy conf to phoenix"></a>4.3 copy conf to phoenix</h3><blockquote>
<p>copy hbase conf file to phoenix bin</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server1 bin]$ cp hbase-site.xml hbase-site.xml.ori</span><br><span class="line">[hsu@server1 bin]$ cp /opt/cloudera/parcels/CDH/lib/hbase/conf/hbase-site.xml /home/hsu/phoenix/bin/</span><br><span class="line">[hsu@server1 bin]$ ll hbase-site.xml*</span><br><span class="line">-rw-r--r-- 1 hsu hsu 1473 Mar 15 16:57 hbase-site.xml</span><br><span class="line">-rw-r--r-- 1 hsu hsu 1136 Mar 15 16:57 hbase-site.xml.ori</span><br></pre></td></tr></table></figure>
<h3 id="4-4-Restart-HBase"><a href="#4-4-Restart-HBase" class="headerlink" title="4.4 Restart HBase"></a>4.4 Restart HBase</h3><pre><code>Cludera cdh version hbase的 start-hbase.sh and stop-hbase.sh脚本我硬是没找到！
</code></pre><h4 id="4-4-1-CDH-版本hbase"><a href="#4-4-1-CDH-版本hbase" class="headerlink" title="4.4.1 CDH 版本hbase"></a>4.4.1 CDH 版本hbase</h4><blockquote>
<p>cdh-5.3.0-0.98.6-cdh5.2.0版本集群copy phoenix到lib</p>
</blockquote>
<blockquote>
<p>重启集群一直无法成功，删除所有节点/opt/cloudera/parcels/CDH/lib/hbase/lib/phoenix-core-4.3.0.jar  包后重启，居然不报错了，奇葩吧！<br>sudo rm -f /opt/cloudera/parcels/CDH/lib/hbase/lib/phoenix-core-4.3.0.jar<br>出现这个奇葩问题是我没有注意看安装文档，我copy phoenix-core-[version].jar文件到所有的hbase/lib下面，导致重启hbase的registerserver一直启动失败：<br>Add the phoenix-[version]-server.jar to the classpath of all HBase region server and master and remove any previous version. An easy way to do this is to copy it into the HBase lib directory (use phoenix-core-[version].jar for Phoenix 3.x)</p>
</blockquote>
<blockquote>
<p>当我放置正确的jar到hbase/lib下面以后照样还是registerserver报错！再次删除所有节点的包，重启恢复正常：<br>sudo rm -f /opt/cloudera/parcels/CDH/lib/hbase/lib/phoenix-4.3.0-server.jar  </p>
</blockquote>
<h4 id="4-4-2-apache版本hbase"><a href="#4-4-2-apache版本hbase" class="headerlink" title="4.4.2 apache版本hbase"></a>4.4.2 apache版本hbase</h4><blockquote>
<p>apache 0.98.6.1-hadoop2版本</p>
</blockquote>
<blockquote>
<p>Apache版本的hbase 0.98.6.1-hadoop2重启无异常，启动正常！</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 bin]# hbase shell</span><br><span class="line">2015-03-15 19:23:35,387 INFO  [main] Configuration.deprecation: hadoop.native.lib is deprecated. Instead, use io.native.lib.available</span><br><span class="line">HBase Shell; enter &apos;help&lt;RETURN&gt;&apos; for list of supported commands.</span><br><span class="line">Type &quot;exit&lt;RETURN&gt;&quot; to leave the HBase Shell</span><br><span class="line">Version 0.98.6.1-hadoop2, r96a1af660b33879f19a47e9113bf802ad59c7146, Sun Sep 14 21:27:25 PDT 2014</span><br><span class="line"></span><br><span class="line">hbase(main):001:0&gt; list</span><br><span class="line">TABLE                                                                                                                                 </span><br><span class="line">SLF4J: Class path contains multiple SLF4J bindings.</span><br><span class="line">SLF4J: Found binding in [jar:file:/usr/local/hbase-0.98.6.1/lib/slf4j-log4j12-1.6.4.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: Found binding in [jar:file:/usr/local/hadoop-2.4.0/share/hadoop/common/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.</span><br><span class="line">t1                                                                                                                                    </span><br><span class="line">test2                                                                                                                                 </span><br><span class="line">2 row(s) in 20.2820 seconds</span><br><span class="line"></span><br><span class="line">=&gt; [&quot;t1&quot;, &quot;test2&quot;]</span><br><span class="line">hbase(main):002:0&gt; scan &apos;t1&apos;</span><br><span class="line">ROW                                COLUMN+CELL                                                                                        </span><br><span class="line"> rk1                               column=t1:c2, timestamp=1416914603519, value=\xE6\x8B\x9C\xE6\x8B\x9C                              </span><br><span class="line"> rk1                               column=t1:cf2, timestamp=1416913804175, value=\xE6\x9F\xB3\xE6\xA0\x91                             </span><br><span class="line">1 row(s) in 1.1890 seconds</span><br></pre></td></tr></table></figure>
<h3 id="4-5-add-phoenix-jar-to-classpath"><a href="#4-5-add-phoenix-jar-to-classpath" class="headerlink" title="4.5 add phoenix jar to classpath"></a>4.5 add phoenix jar to classpath</h3><blockquote>
<p>Add the phoenix-[version]-client.jar to the classpath of any Phoenix client</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server1 phoenix]$ vi /home/hsu/.bash_profile</span><br><span class="line">[hsu@server1 phoenix]$ tail -3 /home/hsu/.bash_profile </span><br><span class="line">export PHOENIX_HOME=/home/hsu/phoenix/</span><br><span class="line">export CLASSPATH=$CLASSPATH:$PHOENIX_HOME/phoenix-4.3.0-client.jar</span><br><span class="line">[hsu@server1 phoenix]$ source /home/hsu/.bash_profile</span><br></pre></td></tr></table></figure>
<h3 id="4-5-启动phoenix连接hbase集群"><a href="#4-5-启动phoenix连接hbase集群" class="headerlink" title="4.5 启动phoenix连接hbase集群"></a>4.5 启动phoenix连接hbase集群</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server1 ~]$ cd phoenix/bin/</span><br><span class="line">[hsu@server1 bin]$ cat readme.txt         #查看使用方式</span><br></pre></td></tr></table></figure>
<h4 id="cdh版本hbase测试"><a href="#cdh版本hbase测试" class="headerlink" title="cdh版本hbase测试"></a>cdh版本hbase测试</h4><blockquote>
<p>4.5.1 cdh-5.3.0-0.98.6-cdh5.2.0 版本测试[失败]</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[hsu@server1 bin]$ ./sqlline.py server1:2181</span><br><span class="line">报错：</span><br><span class="line">15/03/15 17:15:19 WARN util.DynamicClassLoader: Failed to identify the fs of dir hdfs://server1:8020/hbase/lib, ignored</span><br><span class="line">java.io.IOException: No FileSystem for scheme: hdfs</span><br><span class="line">[hsu@server2 ~]$ hadoop fs -ls hdfs://server1:8020/hbase|wc -l</span><br><span class="line">8</span><br><span class="line">出现此问题是因为没有操作4.5这一步</span><br><span class="line"></span><br><span class="line">[hsu@server1 phoenix]$ bin/sqlline.py server1:2181</span><br><span class="line">Setting property: [isolation, TRANSACTION_READ_COMMITTED]</span><br><span class="line">issuing: !connect jdbc:phoenix:server1:2181 none none org.apache.phoenix.jdbc.PhoenixDriver</span><br><span class="line">Connecting to jdbc:phoenix:server1:2181</span><br><span class="line">SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.</span><br><span class="line">15/03/15 17:46:25 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class="line">15/03/15 17:46:25 WARN impl.MetricsConfig: Cannot locate configuration: tried hadoop-metrics2-phoenix.properties,hadoop-metrics2.properties</span><br><span class="line">#这里cdh habase版本，一直处于等待状态，因为copy lib到hbase/lib后重启一直不正常！</span><br><span class="line"></span><br><span class="line">后面继续测试：</span><br><span class="line">cp phoenix-4.3.0-server.jar /opt/cloudera/parcels/CDH/lib/hbase/lib/</span><br><span class="line">sudo chmod 777 /opt/cloudera/parcels/CDH/lib/hbase/lib/phoenix-4.3.0-server.jar      </span><br><span class="line"></span><br><span class="line">重启hbase：依然未解决意外退出，日志信息无报错！</span><br></pre></td></tr></table></figure>
<h4 id="apache-hbase-版本测试"><a href="#apache-hbase-版本测试" class="headerlink" title="apache hbase 版本测试"></a>apache hbase 版本测试</h4><blockquote>
<p>4.5.2 Apache hbase 0.98.6.1-hadoop2版本测试[成功]</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 bin]# ./sqlline.py server1:2181</span><br><span class="line">java.io.IOException: No FileSystem for scheme: hdfs</span><br><span class="line"></span><br><span class="line">[root@server1 local]# ln -s phoenix-4.3.0-bin phoenix</span><br><span class="line"></span><br><span class="line">[root@server1 ~]# cat /etc/profile|grep &apos;CLASSPATH:$HADOOP_HOME/lib&apos;</span><br><span class="line">export CLASSPATH=$CLASSPATH:$HADOOP_HOME/lib</span><br><span class="line"></span><br><span class="line">[root@server1 ~]# tail -3 .bash_profile    </span><br><span class="line">export PHOENIX_HOME=/usr/local/phoenix/</span><br><span class="line">export CLASSPATH=$CLASSPATH:$PHOENIX_HOME/phoenix-4.3.0-client.jar</span><br><span class="line"></span><br><span class="line">[root@server1 hdfs]# echo $CLASSPATH</span><br><span class="line">.:/usr/local/jdk1.7.0_45/lib:/usr/local/jdk1.7.0_45/jre/lib:.:/usr/local/jdk1.7.0_45/lib:/usr/local/jdk1.7.0_45/jre/lib:.:/usr/local/jdk1.7.0_45/lib:/usr/local/jdk1.7.0_45/jre/lib::/usr/local/phoenix-4.3.0-bin/phoenix-4.3.0-client.jar:/usr/local/phoenix//phoenix-4.3.0-client.jar:/usr/local/hadoop-2.4.0/lib:/usr/local/hadoop-2.4.0/share/hadoop/hdfs</span><br><span class="line"></span><br><span class="line">[root@server1 bin]# ./sqlline.py server1:2181</span><br><span class="line">Setting property: [isolation, TRANSACTION_READ_COMMITTED]</span><br><span class="line">issuing: !connect jdbc:phoenix:server1:2181 none none org.apache.phoenix.jdbc.PhoenixDriver</span><br><span class="line">Connecting to jdbc:phoenix:server1:2181</span><br><span class="line">15/03/15 20:03:23 WARN util.DynamicClassLoader: Failed to identify the fs of dir hdfs://server1:9000/user/hbase/lib, ignored</span><br><span class="line">java.io.IOException: No FileSystem for scheme: hdfs</span><br><span class="line">Connected to: Phoenix (version 4.3)</span><br><span class="line">Driver: PhoenixEmbeddedDriver (version 4.3)</span><br><span class="line">Autocommit status: true</span><br><span class="line">Transaction isolation: TRANSACTION_READ_COMMITTED</span><br><span class="line">Building list of tables and columns for tab-completion (set fastconnect to true to skip)...</span><br><span class="line">70/70 (100%) Done</span><br><span class="line">Done</span><br><span class="line">sqlline version 1.1.8</span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; !help</span><br><span class="line">    !all                Execute the specified SQL against all the current connections</span><br><span class="line">    !autocommit         Set autocommit mode on or off</span><br><span class="line">    !batch              Start or execute a batch of statements</span><br><span class="line">    !brief              Set verbose mode off</span><br><span class="line">    !call               Execute a callable statement</span><br><span class="line">    !close              Close the current connection to the database</span><br><span class="line">    !closeall           Close all current open connections</span><br><span class="line">    !columns            List all the columns for the specified table</span><br><span class="line">    !commit             Commit the current transaction (if autocommit is off)</span><br><span class="line">    !connect            Open a new connection to the database.</span><br><span class="line">    !dbinfo             Give metadata information about the database</span><br><span class="line">    !describe           Describe a table</span><br><span class="line">    !dropall            Drop all tables in the current database</span><br><span class="line">    !exportedkeys       List all the exported keys for the specified table</span><br><span class="line">    !go                 Select the current connection</span><br><span class="line">    !help               Print a summary of command usage</span><br><span class="line">    !history            Display the command history</span><br><span class="line">    !importedkeys       List all the imported keys for the specified table</span><br><span class="line">    !indexes            List all the indexes for the specified table</span><br><span class="line">    !isolation          Set the transaction isolation for this connection</span><br><span class="line">    !list               List the current connections</span><br><span class="line">    !manual             Display the SQLLine manual</span><br><span class="line">    !metadata           Obtain metadata information</span><br><span class="line">    !nativesql          Show the native SQL for the specified statement</span><br><span class="line">    !outputformat       Set the output format for displaying results</span><br><span class="line">                        (table,vertical,csv,tsv,xmlattrs,xmlelements)</span><br><span class="line">    !primarykeys        List all the primary keys for the specified table</span><br><span class="line">    !procedures         List all the procedures</span><br><span class="line">    !properties         Connect to the database specified in the properties file(s)</span><br><span class="line">    !quit               Exits the program</span><br><span class="line">    !reconnect          Reconnect to the database</span><br><span class="line">    !record             Record all output to the specified file</span><br><span class="line">    !rehash             Fetch table and column names for command completion</span><br><span class="line">    !rollback           Roll back the current transaction (if autocommit is off)</span><br><span class="line">    !run                Run a script from the specified file</span><br><span class="line">    !save               Save the current variabes and aliases</span><br><span class="line">    !scan               Scan for installed JDBC drivers</span><br><span class="line">    !script             Start saving a script to a file</span><br><span class="line">    !set                Set a sqlline variable</span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; !list</span><br><span class="line">1 active connection:</span><br><span class="line"> #0  open     jdbc:phoenix:server1:2181</span><br><span class="line"></span><br><span class="line">0: jdbc:phoenix:server1:2181&gt;  select * from SYSTEM.CATALOG;</span><br><span class="line">+------------------------------------------+------------------------------------------+------------------------------------------+------+</span><br><span class="line">|                TENANT_ID                 |               TABLE_SCHEM                |                TABLE_NAME                |      |</span><br><span class="line">+------------------------------------------+------------------------------------------+------------------------------------------+------+</span><br><span class="line">|                                          |                                          | TEST                                     |      |</span><br><span class="line">|                                          |                                          | TEST                                     | MYCO |</span><br><span class="line">|                                          |                                          | TEST                                     | MYKE |</span><br><span class="line">|                                          | SYSTEM                                   | CATALOG                                  |      |</span><br><span class="line">|                                          | SYSTEM                                   | CATALOG                                  | ARRA |</span><br><span class="line">.....省略...</span><br><span class="line"></span><br><span class="line">#在hbase验证是否可以看到有test表,也可以看到phoenix生成的系统表</span><br><span class="line">hbase(main):002:0&gt; list</span><br><span class="line">TABLE                                                                                                                                    </span><br><span class="line">SYSTEM.CATALOG                                                                                                                           </span><br><span class="line">SYSTEM.SEQUENCE                                                                                                                          </span><br><span class="line">SYSTEM.STATS                                                                                                                             </span><br><span class="line">TEST                                                                                                                                     </span><br><span class="line">TEST01                                                                                                                                   </span><br><span class="line">5 row(s) in 2.3750 seconds</span><br><span class="line"></span><br><span class="line">=&gt; [&quot;SYSTEM.CATALOG&quot;, &quot;SYSTEM.SEQUENCE&quot;, &quot;SYSTEM.STATS&quot;, &quot;TEST&quot;, &quot;TEST01&quot;]</span><br></pre></td></tr></table></figure>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><ul>
<li>1、解决java.io.IOException: No FileSystem for scheme: hdfs </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 lib]# cat /etc/profile|grep &apos;CLASSPATH:/usr/local/hbase-0.98.6.1/lib&apos;</span><br><span class="line">export CLASSPATH=$CLASSPATH:/usr/local/hbase-0.98.6.1/lib</span><br><span class="line">[root@server1 lib]# source /etc/profile</span><br><span class="line">[root@server1 bin]# sqlline.py server1:2181/hbase</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">WARN util.DynamicClassLoader: Failed to identify the fs of </span><br><span class="line">dir hdfs://server01:54310/hbase/lib, ignored</span><br><span class="line">java.io.IOException: No FileSystem for scheme: hdfs</span><br><span class="line">        at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2421)  </span><br><span class="line">        at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2428)  </span><br><span class="line">        at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:88)  </span><br><span class="line">        at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2467)  </span><br><span class="line">        at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2449)  </span><br><span class="line">        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:367)  </span><br><span class="line">        at FileCopyToHdfs.readFromHdfs(FileCopyToHdfs.java:65)  </span><br><span class="line">        at FileCopyToHdfs.main(FileCopyToHdfs.java:26)</span><br></pre></td></tr></table></figure>
<ul>
<li>解决：<br>这是因为该包下默认的core-default.xml没有配置如下属性。<br>修改hbase的lib/hadoop-common-2.2.0.jar包里面的core-default.xml添加重启集群<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;  </span><br><span class="line">    &lt;name&gt;fs.hdfs.impl&lt;/name&gt;  </span><br><span class="line">    &lt;value&gt;org.apache.hadoop.hdfs.DistributedFileSystem&lt;/value&gt;  </span><br><span class="line">    &lt;description&gt;The FileSystem for hdfs: uris.&lt;/description&gt;  </span><br><span class="line">&lt;/property&gt;  </span><br><span class="line"></span><br><span class="line">hadoop fs -rm -f hdfs://server1:9000/user/hbase/lib/hadoop-common-2.2.0.jar</span><br><span class="line">hadoop fs -put hadoop-common-2.2.0.jar hdfs://server1:9000/user/hbase/lib</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>上属性指定fs.hdfs.impl的实现类。添加完后，未解决。</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">在HDP官网找到相同错误：http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.1.3/bk_installing_manually_book/content/rpm-chap-phoenix.html</span><br><span class="line"></span><br><span class="line">我通过在$&#123;PHOENIX_HOME&#125;/bin/hbase-site.xml中添加设置解决了问题。</span><br><span class="line">&lt;property&gt;  </span><br><span class="line">        &lt;name&gt;fs.hdfs.impl&lt;/name&gt;  </span><br><span class="line">        &lt;value&gt;org.apache.hadoop.hdfs.DistributedFileSystem&lt;/value&gt;  </span><br><span class="line">&lt;/property&gt; </span><br><span class="line">    [root@server1 bin]# ./sqlline.py server1:2181</span><br><span class="line">    Setting property: [isolation, TRANSACTION_READ_COMMITTED]</span><br><span class="line">    issuing: !connect jdbc:phoenix:server1:2181 none none org.apache.phoenix.jdbc.PhoenixDriver</span><br><span class="line">    Connecting to jdbc:phoenix:server1:2181</span><br><span class="line">    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">    SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.</span><br><span class="line">    15/07/16 16:59:56 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class="line">    Connected to: Phoenix (version 4.3)</span><br><span class="line">    Driver: PhoenixEmbeddedDriver (version 4.3)</span><br><span class="line">    Autocommit status: true</span><br><span class="line">    Transaction isolation: TRANSACTION_READ_COMMITTED</span><br><span class="line">    Building list of tables and columns for tab-completion (set fastconnect to true to skip)...</span><br><span class="line">    74/74 (100%) Done</span><br><span class="line">    Done</span><br><span class="line">    sqlline version 1.1.8</span><br><span class="line">    0: jdbc:phoenix:server1:2181&gt; </span><br><span class="line">    0: jdbc:phoenix:server1:2181&gt; !table</span><br><span class="line">+-----------+-------------+------------+------+</span><br><span class="line">| TABLE_CAT | TABLE_SCHEM | TABLE_NAME |      |</span><br><span class="line">+-----------+-------------+------------+------+</span><br><span class="line">|           | SYSTEM      | CATALOG    | SYST |</span><br><span class="line">|           | SYSTEM      | SEQUENCE   | SYST |</span><br><span class="line">|           | SYSTEM      | STATS      | SYST |</span><br><span class="line">|           |             | ABC        | TABL |</span><br><span class="line">|           |             | TEST       | TABL |</span><br><span class="line">+-----------+-------------+------------+------+</span><br></pre></td></tr></table></figure>
<ul>
<li>2：hbase创建的表没有加载进来，只看到phoenix初始化的表和新建的表，hbase里面创建的表没有显示出来！</li>
</ul>
<blockquote>
<p>尝试hbase shell创建一张表TEST01查看是否phoenix也能加载到！phoenix创建的表可以被看到，而hbase里面创建的不能别看到。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">0: jdbc:phoenix:server1:2181&gt; !table</span><br><span class="line">+-----------+-------------+------------+------+</span><br><span class="line">| TABLE_CAT | TABLE_SCHEM | TABLE_NAME |      |</span><br><span class="line">+-----------+-------------+------------+------+</span><br><span class="line">|           | SYSTEM      | CATALOG    | SYST |</span><br><span class="line">|           | SYSTEM      | SEQUENCE   | SYST |</span><br><span class="line">|           | SYSTEM      | STATS      | SYST |</span><br><span class="line">|           |             | TEST       | TABL |</span><br><span class="line">+-----------+-------------+------------+------+</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 bin]# sqlline.py server1,server2,server3</span><br><span class="line"></span><br><span class="line">进入zkCli.sh查看phoenix生成的节点数据</span><br><span class="line">[root@server2 local]# zookeeper-3.4.6/bin/zkCli.sh</span><br><span class="line"></span><br><span class="line">进入phoenix客户端</span><br><span class="line">[root@server1 bin]# sqlline.py server1:2181/hbase</span><br><span class="line">Setting property: [isolation, TRANSACTION_READ_COMMITTED]</span><br><span class="line">issuing: !connect jdbc:phoenix:server1:2181/hbase none none org.apache.phoenix.jdbc.PhoenixDriver</span><br><span class="line">Connecting to jdbc:phoenix:server1:2181/hbase</span><br><span class="line"></span><br><span class="line">#依然没有成功，加载hbase shell创建的表！</span><br><span class="line">查看webui看看两种不同客户端创建的表有何区别，后面表定义有很大不同，所以这里可以看出问题所在！下面TEST表示phoenix创建的，TEST01是Hbase shell创建...</span><br><span class="line"></span><br><span class="line">TEST    1   &apos;TEST&apos;, &#123;TABLE_ATTRIBUTES =&gt; &#123;coprocessor$1 =&gt; &apos;|org.apache.phoenix.coprocessor.ScanRegionObserver|805306366|&apos;, coprocessor$2 =&gt; &apos;|org.apache.phoenix.coprocessor.UngroupedAggregateRegionObserver|805306366|&apos;, coprocessor$3 =&gt; &apos;|org.apache.phoenix.coprocessor.GroupedAggregateRegionObserver|805306366|&apos;, coprocessor$4 =&gt; &apos;|org.apache.phoenix.coprocessor.ServerCachingEndpointImpl|805306366|&apos;, coprocessor$5 =&gt; &apos;|org.apache.phoenix.hbase.index.Indexer|805306366|index.builder=org.apache.phoenix.index.PhoenixIndexBuilder,org.apache.hadoop.hbase.index.codec.class=org.apache.phoenix.index.PhoenixIndexCodec&apos;, coprocessor$6 =&gt; &apos;|org.apache.hadoop.hbase.regionserver.LocalIndexSplitter|805306366|&apos;&#125;, &#123;NAME =&gt; &apos;0&apos;, DATA_BLOCK_ENCODING =&gt; &apos;FAST_DIFF&apos;&#125;</span><br><span class="line"></span><br><span class="line">TEST01  1   &apos;TEST01&apos;, &#123;NAME =&gt; &apos;lf&apos;&#125;, &#123;NAME =&gt; &apos;sf&apos;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5、java连接phoenix"><a href="#5、java连接phoenix" class="headerlink" title="5、java连接phoenix"></a>5、java连接phoenix</h2><p><a href="http://phoenix.apache.org/faq.html" target="_blank" rel="noopener">http://phoenix.apache.org/faq.html</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package org.sparkjvm.jdbc.phoenix;</span><br><span class="line"></span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.DriverManager;</span><br><span class="line">import java.sql.PreparedStatement;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.sql.SQLException;</span><br><span class="line">import java.sql.Statement;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> - Created by Andrew on 2015/3/15.</span><br><span class="line"> */</span><br><span class="line">public class PhoenixConnectTest &#123;</span><br><span class="line">    public static void main(String[] args) throws SQLException &#123;</span><br><span class="line">        Statement stmt = null;</span><br><span class="line">        ResultSet rset = null;</span><br><span class="line">        //String driver = &quot;org.apache.phoenix.jdbc.PhoenixDriver&quot;;</span><br><span class="line"></span><br><span class="line">        Connection con = DriverManager.getConnection(&quot;jdbc:phoenix:server1:2181&quot;);</span><br><span class="line">//        Connection con = DriverManager.getConnection(&quot;jdbc:phoenix:server1,server2,server3&quot;);</span><br><span class="line">        stmt = con.createStatement();</span><br><span class="line"></span><br><span class="line">//        stmt.executeUpdate(&quot;create table test (mykey integer not null primary key, mycolumn varchar)&quot;);</span><br><span class="line">//        stmt.executeUpdate(&quot;upsert into test values (1,&apos;Hello&apos;)&quot;);</span><br><span class="line">//        stmt.executeUpdate(&quot;upsert into test values (2,&apos;World!&apos;)&quot;);</span><br><span class="line">        con.commit();</span><br><span class="line"></span><br><span class="line">        PreparedStatement statement = con.prepareStatement(&quot;select * from test&quot;);</span><br><span class="line">        rset = statement.executeQuery();</span><br><span class="line">        while (rset.next()) &#123;</span><br><span class="line">            System.out.println(rset.getString(&quot;mycolumn&quot;));</span><br><span class="line">        &#125;</span><br><span class="line">        statement.close();</span><br><span class="line">        con.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>结果：hello world!</p>
</blockquote>
<blockquote>
<p>执行以上代码后在后台客户端查询表生成情况！</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0: jdbc:phoenix:server1:2181&gt; select * from TEST;</span><br><span class="line">+------------------------------------------+------------------------------------------+</span><br><span class="line">|                  MYKEY                   |                 MYCOLUMN                 |</span><br><span class="line">+------------------------------------------+------------------------------------------+</span><br><span class="line">| 1                                        | Hello                                    |</span><br><span class="line">| 2                                        | World!                                   |</span><br><span class="line">+------------------------------------------+------------------------------------------+</span><br><span class="line">2 rows selected (0.17 seconds)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>命令行操作</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">0: jdbc:phoenix:server1:2181&gt; create table abc(a integer primary key, b integer) ; </span><br><span class="line">No rows affected (7.342 seconds)</span><br><span class="line"></span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; UPSERT INTO abc VALUES (1, 1); </span><br><span class="line">1 row affected (1.586 seconds)</span><br><span class="line"></span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; UPSERT INTO abc VALUES (1, 1); </span><br><span class="line">1 row affected (1.586 seconds)</span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; UPSERT INTO abc VALUES (1, 2); </span><br><span class="line">1 row affected (0.581 seconds)</span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; UPSERT INTO abc VALUES (2, 1); </span><br><span class="line">1 row affected (0.099 seconds)</span><br><span class="line"></span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; select * from abc;</span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; select * from abc;</span><br><span class="line">+------------------------------------------+---------------------------------+</span><br><span class="line">|                    A                     |             B                     |</span><br><span class="line">+------------------------------------------+---------------------------------+</span><br><span class="line">| 1                                        |          2                      |</span><br><span class="line">| 2                                        |          1                      |</span><br><span class="line">+------------------------------------------+----------------------------------+</span><br><span class="line">2 rows selected (0.11 seconds)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查看hbase里面是否有abc表</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@server3 bin]# hbase shell</span><br><span class="line">2015-07-16 15:32:41,808 INFO  [main] Configuration.deprecation: hadoop.native.lib is deprecated. Instead, use io.native.lib.available</span><br><span class="line">HBase Shell; enter &apos;help&lt;RETURN&gt;&apos; for list of supported commands.</span><br><span class="line">Type &quot;exit&lt;RETURN&gt;&quot; to leave the HBase Shell</span><br><span class="line">Version 0.98.6.1-hadoop2, r96a1af660b33879f19a47e9113bf802ad59c7146, Sun Sep 14 21:27:25 PDT 2014</span><br><span class="line"></span><br><span class="line">hbase(main):001:0&gt; list</span><br><span class="line">TABLE                                                                      </span><br><span class="line">ABC                                                                                                                                      </span><br><span class="line">SYSTEM.CATALOG                                                                                                                           </span><br><span class="line">SYSTEM.SEQUENCE                                                                                                                          </span><br><span class="line">SYSTEM.STATS                                                                                                                             </span><br><span class="line">TEST                                                                                                                                     </span><br><span class="line">TEST01                                                                                                                                   </span><br><span class="line">6 row(s) in 2.6710 seconds</span><br><span class="line"></span><br><span class="line">=&gt; [&quot;ABC&quot;, &quot;SYSTEM.CATALOG&quot;, &quot;SYSTEM.SEQUENCE&quot;, &quot;SYSTEM.STATS&quot;, &quot;TEST&quot;, &quot;TEST01&quot;]</span><br><span class="line"></span><br><span class="line">hbase(main):003:0&gt; scan &apos;ABC&apos;</span><br><span class="line">ROW                                 COLUMN+CELL                                                                                          </span><br><span class="line"> \x80\x00\x00\x01                   column=0:B, timestamp=1437031486946, value=\x80\x00\x00\x02                                          </span><br><span class="line"> \x80\x00\x00\x01                   column=0:_0, timestamp=1437031486946, value=                                                         </span><br><span class="line"> \x80\x00\x00\x02                   column=0:B, timestamp=1437031493300, value=\x80\x00\x00\x01                                          </span><br><span class="line"> \x80\x00\x00\x02                   column=0:_0, timestamp=1437031493300, value=                                                         </span><br><span class="line">2 row(s) in 2.2190 seconds</span><br><span class="line"></span><br><span class="line">hbase(main):004:0&gt;</span><br></pre></td></tr></table></figure>
<h2 id="6、docker-run-phoenix"><a href="#6、docker-run-phoenix" class="headerlink" title="6、docker run phoenix"></a>6、docker run phoenix</h2><pre><code>http://blog.sequenceiq.com/blog/2014/09/04/sql-on-hbase-with-apache-phoenix/
</code></pre><h1 id="二、Mapping-to-an-Existing-HBase-Table"><a href="#二、Mapping-to-an-Existing-HBase-Table" class="headerlink" title="二、Mapping to an Existing HBase Table"></a>二、Mapping to an Existing HBase Table</h1><pre><code>http://phoenix.apache.org/index.html#Mapping-to-an-Existing-HBase-Table
Hbase端操作：
hbase(main):007:0&gt; disable &apos;t1&apos;
0 row(s) in 2.3870 seconds
hbase(main):008:0&gt; drop &apos;t1&apos;
0 row(s) in 1.3260 seconds

create &apos;t1&apos;, {NAME =&gt; &apos;f1&apos;, VERSIONS =&gt; 5}
put &apos;t1&apos;, &apos;baiyc_20150716_0001&apos;, &apos;f1:val&apos;, &apos;baiyc1&apos;
put &apos;t1&apos;, &apos;baiyc_20150716_0001&apos;, &apos;f1:name&apos;, &apos;baiyc1&apos;
put &apos;t1&apos;, &apos;baiyc_20150716_0002&apos;, &apos;f1:val&apos;, &apos;baiyc2&apos;

Phoenix操作：
CREATE VIEW &quot;t1&quot; ( k VARCHAR primary key, &quot;name&quot; VARCHAR, &quot;val&quot; VARCHAR) default_column_family=&apos;f1&apos;;
select * from &quot;t1&quot;;

2、多列族操作；
Hbase端操作
create &apos;userc&apos;,{NAME=&gt;&apos;base&apos;,VERSION=&gt;3 },{NAME=&gt;&apos;ext&apos;,VERSION=&gt;1 } 
put &apos;userc&apos;, &apos;baiyc_20150716_0001&apos;, &apos;base:name&apos;, &apos;baiyc1&apos;
put &apos;userc&apos;, &apos;baiyc_20150716_0001&apos;, &apos;base:age&apos;, &apos;11&apos;
put &apos;userc&apos;, &apos;baiyc_20150716_0001&apos;, &apos;ext:sex&apos;, &apos;m&apos;
put &apos;userc&apos;, &apos;baiyc_20150716_0001&apos;, &apos;ext:heigh&apos;, &apos;170&apos;
put &apos;userc&apos;, &apos;zhangs_20150716_0001&apos;, &apos;base:name&apos;, &apos;zhangs1&apos;
put &apos;userc&apos;, &apos;zhangs_20150716_0001&apos;, &apos;base:age&apos;, &apos;31&apos;
put &apos;userc&apos;, &apos;zhangs_20150716_0001&apos;, &apos;ext:sex&apos;, &apos;f&apos;
put &apos;userc&apos;, &apos;zhangs_20150716_0001&apos;, &apos;ext:heigh&apos;, &apos;160&apos;
Phoenix操作：
CREATE VIEW &quot;userc&quot; ( rowkey VARCHAR primary key, &quot;name&quot; VARCHAR, &quot;age&quot; VARCHAR) default_column_family=&apos;base&apos;; --ok
select * from &quot;userc&quot;;
DROP VIEW IF EXISTS &quot;userc&quot;;
3、查询phoenix客户端创建表，直接使用大写字母的表名，如果查询视图，视图名称必须使用双引号括起来查询且区分大小写；
phoenix客户端查询操作：
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">0: jdbc:phoenix:server1:2181&gt;  CREATE VIEW &quot;userc&quot; ( rowkey VARCHAR primary key, &quot;name&quot; VARCHAR, &quot;age&quot; VARCHAR) default_column_family=&apos;base&apos;;</span><br><span class="line">No rows affected (6.347 seconds)</span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; select * from &quot;userc&quot;;</span><br><span class="line">+----------------------+---------+-----+</span><br><span class="line">| ROWKEY               | name    | age |</span><br><span class="line">+----------------------+---------+-----+</span><br><span class="line">| baiyc_20150716_0001  | baiyc1  | 11  |</span><br><span class="line">| zhangs_20150716_0001 | zhangs1 | 31  |</span><br><span class="line">+----------------------+---------+-----+</span><br><span class="line">2 rows selected (0.421 seconds)</span><br><span class="line">0: jdbc:phoenix:server1:2181&gt; select &quot;ROWKEY&quot;,&quot;name&quot;,&quot;age&quot; from &quot;userc&quot;; </span><br><span class="line">+----------------------+---------+-----+</span><br><span class="line">| ROWKEY               | name    | age |</span><br><span class="line">+----------------------+---------+-----+</span><br><span class="line">| baiyc_20150716_0001  | baiyc1  | 11  |</span><br><span class="line">| zhangs_20150716_0001 | zhangs1 | 31  |</span><br><span class="line">+----------------------+---------+-----+</span><br><span class="line">2 rows selected (0.15 seconds)</span><br><span class="line"></span><br><span class="line">phoenix程序java代码查询操作：</span><br><span class="line">String querySql = &quot;select * from \&quot;userc\&quot; &quot;; //可查询视图中所有字段信息,视图名称必须使用双引号括起来查询且区分大小写，表明是查询一个视图，不是查询表；</span><br><span class="line">4、为了大小写不敏感，建议所有定义表名、列族名、字段名等都使用大写，要求客户端用户查询也全部使用大写操作。</span><br></pre></td></tr></table></figure>
<h1 id="hbase-1-1-5-整合phoenix－4-7-0"><a href="#hbase-1-1-5-整合phoenix－4-7-0" class="headerlink" title="hbase-1.1.5 整合phoenix－4.7.0"></a>hbase-1.1.5 整合phoenix－4.7.0</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">2016-06-26 00:16:09,713 ERROR [RS_OPEN_REGION-bigdata-server-1:16020-0] handler.OpenRegionHandler: Failed open of region=SYSTEM.CATALOG,,1466870656182.03e30d1b07989af24fcbcb1173fcfd91., starting to roll back the global memstore size.</span><br><span class="line">java.io.IOException: Class org.apache.phoenix.coprocessor.MetaDataRegionObserver cannot be loaded</span><br><span class="line">...........</span><br><span class="line">2016-06-26 00:16:15,153 INFO  [regionserver/server1/192.168.2.201:16020] regionserver.HRegionServer: regionserver/server1/192.168.2.201:16020 exiting</span><br><span class="line">2016-06-26 00:16:15,153 ERROR [main] regionserver.HRegionServerCommandLine: Region server exiting</span><br><span class="line">java.lang.RuntimeException: HRegionServer Aborted</span><br><span class="line">...........</span><br></pre></td></tr></table></figure>
<p>出现如上错误，是因为我安装官网重新安装一次hbase，并没有按照我的文档按照，没有把phoenix-xxx-server.jar copy到所有节点hbase／lib下面，而是根据官网说的，jar放到classpath：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@server1]# env|grep CLASSPATH</span><br><span class="line">HADOOP_CLASSPATH=:/opt/cloud/tez/conf:/opt/cloud/tez/*:/opt/cloud/tez/lib/*</span><br><span class="line">CLASSPATH=:/opt/cloud/phoenix/phoenix-4.7.0-HBase-1.1-client.jar,/opt/cloud/phoenix/phoenix-4.7.0-HBase-1.1-server.jar</span><br></pre></td></tr></table></figure></p>
<p>这样做是不行的，而我把<code>phoenix-4.7.0-HBase-1.1-server.jar</code>放到所有<code>hbase</code>的<code>lib</code>目录下，可以正常初始化完成，而不是卡住phoenix客户端，去看所有regionserver节点，发现都down掉了！</p>
<p>待续…</p>
<h1 id="三、有关phoenix，hbase-impala-hive性能测试"><a href="#三、有关phoenix，hbase-impala-hive性能测试" class="headerlink" title="三、有关phoenix，hbase,impala,hive性能测试"></a>三、有关phoenix，hbase,impala,hive性能测试</h1><blockquote>
<p><a href="https://github.com/forcedotcom/phoenix/wiki/Performance" target="_blank" rel="noopener">https://github.com/forcedotcom/phoenix/wiki/Performance</a><br><a href="https://blogs.apache.org/phoenix/" target="_blank" rel="noopener">https://blogs.apache.org/phoenix/</a><br><a href="https://blogs.apache.org/phoenix/entry/tpc_in_apache_phoenix" target="_blank" rel="noopener">https://blogs.apache.org/phoenix/entry/tpc_in_apache_phoenix</a></p>
</blockquote>
<p>原创文章，转载请注明： 转载自<a href="http://www.itweet.cn" target="_blank" rel="noopener">Itweet</a>的博客<br><code>本博客的文章集合:</code> <a href="http://www.itweet.cn/blog/archive/" target="_blank" rel="noopener">http://www.itweet.cn/blog/archive/</a></p>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/hbase/">hbase</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2015/07/17/alluxio-dev/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">alluxio-dev</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2015/07/16/Hbase-Distibuted-Install/">
        <span class="next-text nav-default">Hbase Distibuted Install</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2019
    <span class="footer-author">Xu Jiang.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
