<!DOCTYPE html>
<html lang>
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="Storm 是一个开源的、大数据处理系统，与其他系统不同，它旨在用于分布式实时处理且与语言无关。">




  <meta name="keywords" content="Stream,">





  <link rel="alternate" href="/atom.xml" title="WHOAMI">




  <link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/itweet/itweet.github.io/master/favicon.ico?v=1.1">



<link rel="canonical" href="http://itweet.github.io/2014/07/01/storm-入门指南/">


<meta name="description" content="Storm 是一个开源的、大数据处理系统，与其他系统不同，它旨在用于分布式实时处理且与语言无关。">
<meta name="keywords" content="Stream">
<meta property="og:type" content="article">
<meta property="og:title" content="storm 入门指南">
<meta property="og:url" content="http://itweet.github.io/2014/07/01/storm-入门指南/index.html">
<meta property="og:site_name" content="WHOAMI">
<meta property="og:description" content="Storm 是一个开源的、大数据处理系统，与其他系统不同，它旨在用于分布式实时处理且与语言无关。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://storm.apache.org/images/topology.png">
<meta property="og:updated_time" content="2019-09-25T16:02:15.913Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="storm 入门指南">
<meta name="twitter:description" content="Storm 是一个开源的、大数据处理系统，与其他系统不同，它旨在用于分布式实时处理且与语言无关。">
<meta name="twitter:image" content="http://storm.apache.org/images/topology.png">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> storm 入门指南 - WHOAMI </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">WHOAMI</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/atom.xml">
                            
                            
                                RSS
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          storm 入门指南
        
      </h1>

      <time class="post-time">
          7月 01 2014
      </time>
    </header>



    
            <div class="post-content">
            <p>Storm 是一个开源的、大数据处理系统，与其他系统不同，它旨在用于分布式实时处理且与语言无关。了解 Twitter Storm、它的架构，以及批处理和流式处理解决方案的发展形势。</p>
<p><img src="http://storm.apache.org/images/topology.png" alt></p>
<h1 id="一、Storm安装"><a href="#一、Storm安装" class="headerlink" title="一、Storm安装"></a>一、Storm安装</h1><h2 id="1、下载软件包解压"><a href="#1、下载软件包解压" class="headerlink" title="1、下载软件包解压"></a>1、下载软件包解压</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://storm.apache.org/</span><br><span class="line">wget http://mirrors.cnnic.cn/apache/storm/apache-storm-0.9.4/apache-storm-0.9.4.tar.gz</span><br><span class="line">tar -zxvf apache-storm-0.9.4.tar.gz</span><br></pre></td></tr></table></figure>
<h2 id="2、config"><a href="#2、config" class="headerlink" title="2、config"></a>2、config</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@itr-mastertest01 conf]# egrep -v &quot;^$|#&quot; storm.yaml </span><br><span class="line">      storm.zookeeper.servers:</span><br><span class="line">      - &quot;itr-mastertest01&quot;</span><br><span class="line">      - &quot;itr-mastertest02&quot;</span><br><span class="line">      - &quot;itr-nodetest01&quot;</span><br><span class="line"></span><br><span class="line">     storm.local.dir: &quot;/usr/local/storm-0.9.2/tmp&quot;</span><br><span class="line"></span><br><span class="line">     supervisor.slots.ports:</span><br><span class="line">       - 6700</span><br><span class="line">       - 6701</span><br><span class="line">       - 6702</span><br><span class="line">       - 6703</span><br><span class="line"></span><br><span class="line">    # nimbus.host: &quot;nimbus&quot;</span><br><span class="line">     nimbus.host: &quot;itr-mastertest01&quot;</span><br><span class="line">     ui.port: 8888</span><br><span class="line"></span><br><span class="line">    #netty conf</span><br><span class="line">     storm.messaging.transport:&quot;backtype.storm.messaging.netty.Context&quot;</span><br><span class="line">     storm.messaging.netty.server_worker_threads: 1</span><br><span class="line">     storm.messaging.netty.client_worker_threads: 1</span><br><span class="line">     storm.messaging.netty.buffer_size: 5242880</span><br><span class="line">     storm.messaging.netty.max_retries: 100</span><br><span class="line">     storm.messaging.netty.max_wait_ms: 1000</span><br><span class="line">     storm.messaging.netty.min_wait_ms: 100</span><br></pre></td></tr></table></figure>
<h2 id="3、启动集群"><a href="#3、启动集群" class="headerlink" title="3、启动集群"></a>3、启动集群</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#主节点</span><br><span class="line">[root@itr-mastertest01 local]# storm-0.9.2/bin/storm nimbus &amp;</span><br><span class="line"></span><br><span class="line">#ui启动</span><br><span class="line">[root@itr-mastertest01 local]# storm-0.9.2/bin/storm ui &amp;</span><br><span class="line">http://itr-mastertest01:8080/index.html</span><br><span class="line"></span><br><span class="line">#从节点</span><br><span class="line">[root@itr-nodetest02 storm-0.9.2]# bin/storm supervisor &amp;</span><br></pre></td></tr></table></figure>
<h2 id="4、测试"><a href="#4、测试" class="headerlink" title="4、测试"></a>4、测试</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./storm jar wordcount.jar cn.itweet.storm.topology.WordCountTopo</span><br><span class="line">./storm list                #显示运行的所有任务</span><br><span class="line">./storm kill 任务名称       #杀死运行程序</span><br></pre></td></tr></table></figure>
<h2 id="5、stom-on-yarn"><a href="#5、stom-on-yarn" class="headerlink" title="5、stom on yarn"></a>5、stom on yarn</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://zh.hortonworks.com/kb/storm-on-yarn-install-on-hdp2-beta-cluster/</span><br><span class="line">wget https://github.com/yahoo/storm-yarn/archive/master.zip</span><br></pre></td></tr></table></figure>
<h2 id="6、worker–execute–task"><a href="#6、worker–execute–task" class="headerlink" title="6、worker–execute–task"></a>6、worker–execute–task</h2><p> 线程数–任务数的对应关系！</p>
<h2 id="7、storm分组机制"><a href="#7、storm分组机制" class="headerlink" title="7、storm分组机制"></a>7、storm分组机制</h2><h3 id="Storm分组机制"><a href="#Storm分组机制" class="headerlink" title="Storm分组机制"></a>Storm分组机制</h3><p>Stream Grouping定义了一个流在Bolt任务间该如何被切分。这<br>里有Storm提供的6个Stream Grouping类型：</p>
<ol>
<li><p>随机分组（ Shuffle grouping）：随机分发tuple到Bolt的任务<br>，保证每个任务获得相等数量的tuple。</p>
</li>
<li><p>字段分组（ Fields grouping）：根据指定字段分割数据流，<br>并分组。例如，根据“user-id”字段，相同“user-id”的元组总是分<br>发到同一个任务，不同“user-id”的元组可能分发到不同的任务<br>。</p>
</li>
<li><p>全部分组（ All grouping）： tuple被复制到bolt的所有任务。<br>这种类型需要谨慎使用。</p>
</li>
<li><p>全局分组（ Global grouping）：全部流都分配到bolt的同一个任<br>务。明确地说，是分配给ID最小的那个task。</p>
</li>
<li><p>无分组（ None grouping）：你不需要关心流是如何分组。目前<br>，无分组等效于随机分组。但最终， Storm将把无分组的Bolts<br>放到Bolts或Spouts订阅它们的同一线程去执行（如果可能）。</p>
</li>
<li><p>直接分组（ Direct grouping）：这是一个特别的分组类型。元<br>组生产者决定tuple由哪个元组处理者任务接收。<br>当然还可以实现CustomStreamGroupimg接口来定制自己需要的<br>分组。</p>
</li>
</ol>
<h1 id="二、strom打包运行测试"><a href="#二、strom打包运行测试" class="headerlink" title="二、strom打包运行测试"></a>二、strom打包运行测试</h1><p>Storm-start(<a href="https://github.com/apache/storm/blob/master/examples/storm-starter/pom.xml）" target="_blank" rel="noopener">https://github.com/apache/storm/blob/master/examples/storm-starter/pom.xml）</a><br><em>替换其中的两个依赖：</em><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.twitter4j&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;[2.2,)&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.twitter4j&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;twitter4j-stream&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;[2.2,)&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git://github.com/apache/storm.git &amp;&amp; cd storm/examples/storm-starter</span><br></pre></td></tr></table></figure>
<ul>
<li>生成target/storm-starter-0.xx-incubating-SNAPSHOT.jar<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cd ./storm\examples\storm-starter</span><br><span class="line">mvn clean package -DskipTests=true</span><br><span class="line">./storm-starter\target [master]&gt; ls</span><br><span class="line">storm-starter\target</span><br><span class="line">-a---         2015/5/10     20:28     146803 original-storm-starter-0.11.0-SNAPSHOT.jar</span><br><span class="line">-a---         2015/5/10     20:28    3304816 storm-starter-0.11.0-SNAPSHOT-shaded.jar</span><br><span class="line">-a---         2015/5/10     20:28    3304816 storm-starter-0.11.0-SNAPSHOT.jar</span><br><span class="line"></span><br><span class="line">or 导入到IDEA中，编译生成测试jar包</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="test-命令"><a href="#test-命令" class="headerlink" title="test 命令"></a>test 命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Example 1: Run the RollingTopWords in local mode (LocalCluster)</span><br><span class="line">$ storm jar storm-starter-*.jar storm.starter.RollingTopWords</span><br><span class="line"></span><br><span class="line"># Example 2: Run the RollingTopWords in remote/cluster mode,</span><br><span class="line">#            under the name &quot;production-topology&quot;</span><br><span class="line">$ storm jar storm-starter-*.jar storm.starter.RollingTopWords production-topology remote</span><br></pre></td></tr></table></figure>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@itr-mastertest01 storm-0.9.2]# bin/storm jar examples/storm-starter/storm-starter-topologies-0.9.2-incubating.jar storm.starter.WordCountTopology test</span><br><span class="line"></span><br><span class="line">[root@itr-mastertest01 storm-0.9.2]# bin/storm list|tail -3</span><br><span class="line">Topology_name        Status     Num_tasks  Num_workers  Uptime_secs</span><br><span class="line">-------------------------------------------------------------------</span><br><span class="line">test                 ACTIVE     28         3            101  </span><br><span class="line"></span><br><span class="line">[root@itr-mastertest01 storm-0.9.2]# bin/storm kill test</span><br><span class="line">[root@itr-mastertest01 storm-0.9.2]# bin/storm list|tail -3</span><br><span class="line">Topology_name        Status     Num_tasks  Num_workers  Uptime_secs</span><br><span class="line">-------------------------------------------------------------------</span><br><span class="line">test                 KILLED     28         3            235</span><br></pre></td></tr></table></figure>
<h1 id="三、Storm配置参数"><a href="#三、Storm配置参数" class="headerlink" title="三、Storm配置参数"></a>三、Storm配置参数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">storm.zookeeper.servers ZooKeeper服务器列表</span><br><span class="line"></span><br><span class="line">storm.zookeeper.port ZooKeeper连接端口</span><br><span class="line"></span><br><span class="line">storm.local.dir storm使用的本地文件系统目录(必须存在并且storm进程可读写)</span><br><span class="line"></span><br><span class="line">storm.cluster.mode Storm集群运行模式([distributed|local])</span><br><span class="line"></span><br><span class="line">storm.local.mode.zmq Local模式下是否使用ZeroMQ作消息系统，如果设置为false则使用java消息系统。默认为false</span><br><span class="line"></span><br><span class="line">storm.zookeeper.root ZooKeeper中Storm的根目录位置</span><br><span class="line"></span><br><span class="line">storm.zookeeper.session.timeout 客户端连接ZooKeeper超时时间</span><br><span class="line"></span><br><span class="line">storm.id 运行中拓扑的id,由storm name和一个唯一随机数组成。</span><br><span class="line"></span><br><span class="line">nimbus.host nimbus服务器地址</span><br><span class="line"></span><br><span class="line">nimbus.thrift.port nimbus的thrift监听端口</span><br><span class="line"></span><br><span class="line">nimbus.childopts 通过storm-deploy项目部署时指定给nimbus进程的jvm选项</span><br><span class="line"></span><br><span class="line">nimbus.task.timeout.secs 心跳超时时间，超时后nimbus会认为task死掉并重分配给另一个地址。</span><br><span class="line"></span><br><span class="line">nimbus.monitor.freq.secs nimbus检查心跳和重分配任务的时间间隔.注意如果是机器宕掉nimbus会立即接管并处理。</span><br><span class="line"></span><br><span class="line">nimbus.supervisor.timeout.secs supervisor的心跳超时时间,一旦超过nimbus会认为该supervisor已死并停止为它分发新任务.</span><br><span class="line"></span><br><span class="line">nimbus.task.launch.secs task启动时的一个特殊超时设置.在启动后第一次心跳前会使用该值来临时替代nimbus.task.timeout.secs.</span><br><span class="line"></span><br><span class="line">nimbus.reassign 当发现task失败时nimbus是否重新分配执行。默认为真，不建议修改。</span><br><span class="line"></span><br><span class="line">nimbus.file.copy.expiration.secs nimbus判断上传/下载链接的超时时间，当空闲时间超过该设定时nimbus会认为链接死掉并主动断开</span><br><span class="line"></span><br><span class="line">ui.port Storm UI的服务端口</span><br><span class="line"></span><br><span class="line">drpc.servers DRPC服务器列表，以便DRPCSpout知道和谁通讯</span><br><span class="line"></span><br><span class="line">drpc.port Storm DRPC的服务端口</span><br><span class="line"></span><br><span class="line">supervisor.slots.ports supervisor上能够运行workers的端口列表.每个worker占用一个端口,且每个端口只运行一个worker.通过这项配置可以调整每台机器上运行的worker数.(调整slot数/每机)</span><br><span class="line"></span><br><span class="line">supervisor.childopts 在storm-deploy项目中使用,用来配置supervisor守护进程的jvm选项</span><br><span class="line"></span><br><span class="line">supervisor.worker.timeout.secs supervisor中的worker心跳超时时间,一旦超时supervisor会尝试重启worker进程.</span><br><span class="line"></span><br><span class="line">supervisor.worker.start.timeout.secs supervisor初始启动时，worker的心跳超时时间，当超过该时间supervisor会尝试重启worker。因为JVM初始启动和配置会带来的额外消耗，从而使得第一次心跳会超过supervisor.worker.timeout.secs的设定</span><br><span class="line"></span><br><span class="line">supervisor.enable supervisor是否应当运行分配给他的workers.默认为true,该选项用来进行Storm的单元测试,一般不应修改.</span><br><span class="line"></span><br><span class="line">supervisor.heartbeat.frequency.secs supervisor心跳发送频率(多久发送一次)</span><br><span class="line"></span><br><span class="line">supervisor.monitor.frequency.secs supervisor检查worker心跳的频率</span><br><span class="line"></span><br><span class="line">worker.childopts supervisor启动worker时使用的jvm选项.所有的”%ID%”字串会被替换为对应worker的标识符</span><br><span class="line"></span><br><span class="line">worker.heartbeat.frequency.secs worker的心跳发送时间间隔</span><br><span class="line"></span><br><span class="line">task.heartbeat.frequency.secs task汇报状态心跳时间间隔</span><br><span class="line"></span><br><span class="line">task.refresh.poll.secs task与其他tasks之间链接同步的频率.(如果task被重分配,其他tasks向它发送消息需要刷新连接).一般来讲，重分配发生时其他tasks会理解得到通知。该配置仅仅为了防止未通知的情况。</span><br><span class="line"></span><br><span class="line">topology.debug 如果设置成true，Storm将记录发射的每条信息。</span><br><span class="line"></span><br><span class="line">topology.optimize master是否在合适时机通过在单个线程内运行多个task以达到优化topologies的目的.</span><br><span class="line"></span><br><span class="line">topology.workers 执行该topology集群中应当启动的进程数量.每个进程内部将以线程方式执行一定数目的tasks.topology的组件结合该参数和并行度提示来优化性能</span><br><span class="line"></span><br><span class="line">topology.ackers topology中启动的acker任务数.Acker保存由spout发送的tuples的记录，并探测tuple何时被完全处理.当Acker探测到tuple被处理完毕时会向spout发送确认信息.通常应当根据topology的吞吐量来确定acker的数目，但一般不需要太多.当设置为0时,相当于禁用了消息可靠性,storm会在spout发送tuples后立即进行确认.</span><br><span class="line"></span><br><span class="line">topology.message.timeout.secs topology中spout发送消息的最大处理超时时间.如果一条消息在该时间窗口内未被成功ack,Storm会告知spout这条消息失败。而部分spout实现了失败消息重播功能。</span><br><span class="line"></span><br><span class="line">topology.kryo.register 注册到Kryo(Storm底层的序列化框架)的序列化方案列表.序列化方案可以是一个类名,或者是com.esotericsoftware.kryo.Serializer的实现.</span><br><span class="line"></span><br><span class="line">topology.skip.missing.kryo.registrations Storm是否应该跳过它不能识别的kryo序列化方案.如果设置为否task可能会装载失败或者在运行时抛出错误.</span><br><span class="line"></span><br><span class="line">topology.max.task.parallelism 在一个topology中能够允许的最大组件并行度.该项配置主要用在本地模式中测试线程数限制.</span><br><span class="line"></span><br><span class="line">topology.max.spout.pending 一个spout task中处于pending状态的最大的tuples数量.该配置应用于单个task,而不是整个spouts或topology.</span><br><span class="line"></span><br><span class="line">topology.state.synchronization.timeout.secs 组件同步状态源的最大超时时间(保留选项,暂未使用)</span><br><span class="line"></span><br><span class="line">topology.stats.sample.rate 用来产生task统计信息的tuples抽样百分比</span><br><span class="line"></span><br><span class="line">topology.fall.back.on.java.serialization topology中是否使用java的序列化方案</span><br><span class="line"></span><br><span class="line">zmq.threads 每个worker进程内zeromq通讯用到的线程数</span><br><span class="line"></span><br><span class="line">zmq.linger.millis 当连接关闭时,链接尝试重新发送消息到目标主机的持续时长.这是一个不常用的高级选项,基本上可以忽略.</span><br><span class="line"></span><br><span class="line">java.library.path JVM启动(如Nimbus,Supervisor和workers)时的java.library.path设置.该选项告诉JVM在哪些路径下定位本地库.</span><br></pre></td></tr></table></figure>
<p>参考链接：<a href="http://www.ibm.com/developerworks/cn/opensource/os-twitterstorm/" target="_blank" rel="noopener">Storm资料</a></p>
<p>原创文章，转载请注明： 转载自<a href="http://www.itweet.cn" target="_blank" rel="noopener">Itweet</a>的博客<br><code>本博客的文章集合:</code> <a href="http://www.itweet.cn/blog/archive/" target="_blank" rel="noopener">http://www.itweet.cn/blog/archive/</a></p>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/Stream/">Stream</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2015/01/01/zookeeper-cluster-deploy/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">zookeeper cluster deploy</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2014/02/04/HDFS_NFS_Gateway/">
        <span class="next-text nav-default">HDFS_NFS_Gateway</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2019
    <span class="footer-author">Xu Jiang.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/realXuJiang/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
